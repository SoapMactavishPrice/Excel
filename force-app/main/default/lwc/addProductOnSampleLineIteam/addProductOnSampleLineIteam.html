<template>
    <lightning-card>
        <!-- <lightning-quick-action-panel header="New Product Interested......a"> -->
        <lightning-layout multiple-rows class="slds-m-around_xx-small">


            <lightning-layout-item size="10" class="slds-m-horizontal_xx-small slds-m-vertical_small"
                large-device-size="10" small-device-size="12">
                <label class="slds-text-heading_medium slds-text-title_bold " style="font-size:21px">Add Sample Line
                    Item</label></lightning-layout-item>
            <lightning-layout-item class="slds-p-around_small" size="6" large-device-size="6" small-device-size="12">
                <strong>Product Name</strong>
            </lightning-layout-item>
            <lightning-layout-item class="slds-p-around_small" size="1" large-device-size="1" small-device-size="12">
                <strong>Volume in Kgs</strong>
            </lightning-layout-item>
            <lightning-layout-item class="slds-p-around_small" size="1" large-device-size="4" small-device-size="12">
                <strong>Remark</strong>
            </lightning-layout-item>
            <!-- <lightning-layout-item class="slds-m-horizontal_xx-small slds-m-vertical_small" size="1"
                large-device-size="1" small-device-size="12">
                <strong>Expected Price</strong>
            </lightning-layout-item> -->
            <lightning-layout-item class="slds-p-around_small" size="1" large-device-size="1" small-device-size="12">
                <strong>Action</strong>
            </lightning-layout-item>


            <template for:each={addAnswer} for:item="answer">

                <!-- <lightning-layout-item class="slds-m-horizontal_xx-small" key={answer.index} size="2">
        <lightning-combobox 
        value={answer.prodFamily}
        variant="label-hidden"
        options={options}
        data-label="prodFamily" 
        data-index={answer.index}
        onchange={handleScoreChange}>
    </lightning-combobox>
    </lightning-layout-item> -->

                <lightning-layout-item class="slds-p-around_small" key={answer.index} size="6" large-device-size="6"
                    small-device-size="12">
                    <template lwc:if={answer.prodId}>
                        <c-look-up-component object-api-name="Product2" icon-name="standard:account"
                            data-index={answer.index} style="width: 180" data-label="prodId" index={answer.index}
                            default-record-id={answer.prodId} return-fields="ProductCode" family={answer.prodFamily}
                            sort-column="Name" display-fields="" query-fields="['Name,ProductCode']"
                            onrecordselection={lookupRecord} onfocus={lookupRecord}>
                        </c-look-up-component>
                    </template>

                    <template lwc:else>
                        <c-look-up-component object-api-name="Product2" icon-name="standard:account"
                            data-index={answer.index} style="width: 180" data-label="prodId" return-fields="ProductCode"
                            family={answer.prodFamily} sort-column="Name" display-fields=""
                            query-fields="['Name,ProductCode']" onrecordselection={lookupRecord} onfocus={lookupRecord}>
                        </c-look-up-component>
                    </template>



                </lightning-layout-item>
                <!-- <lightning-layout-item class="slds-m-horizontal_xx-small" key={answer.index} size="1"
                    large-device-size="1" small-device-size="12">
                    <lightning-input variant="label-hidden" data-label="prodCode" value={answer.prodCode} disabled
                        data-index={answer.index} onchange={handleScoreChange}></lightning-input>
                </lightning-layout-item> -->
                <lightning-layout-item class="slds-p-around_small" key={answer.index} size="1" large-device-size="1"
                    small-device-size="12">
                    <lightning-input variant="label-hidden" data-label="volume" value={answer.volume} data-index={answer.index}
                        onchange={handleScoreChange}></lightning-input>
                </lightning-layout-item>

                <lightning-layout-item class="slds-p-around_small" key={answer.index} size="4" large-device-size="4"
                    small-device-size="12">
                    <lightning-textarea variant="label-hidden" data-label="remark" data-index={answer.index}
                        value={answer.remarks} onchange={handleScoreChange}></lightning-textarea>
                </lightning-layout-item>

                <lightning-layout-item class="slds-p-around_small" key={answer.index} size="1" large-device-size="1"
                    small-device-size="12">
                    <div style="display:flex" class="">
                        <lightning-button-icon icon-name="utility:add" alternative-text="Remove" title="Remove Answer"
                            onclick={addAnswerItem} data-index={answer.index}>
                        </lightning-button-icon>
                        <lightning-button-icon icon-name="utility:delete" alternative-text="Remove"
                            title="Remove Answer" onclick={removeAnswer} data-index={answer.index}
                            class="slds-m-left_xx-small">
                        </lightning-button-icon>
                    </div>
                </lightning-layout-item>


            </template>

        </lightning-layout>

        <div slot="footer">
            <div class="slds-align_absolute-center" style="display:flex">
                <lightning-button variant="neutral" label="Cancel" onclick={handleCancel}></lightning-button>
                <lightning-button variant="brand" label="Save" class="slds-m-left_xx-small"
                    onclick={save}></lightning-button>
            </div>
        </div>
    </lightning-card>
    <!-- </lightning-quick-action-panel> -->

</template>